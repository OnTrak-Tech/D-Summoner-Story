import React, { createContext, useContext, useState, ReactNode } from 'react';\nimport { Platform, getActivePlatforms } from '../config/platforms';\n\ninterface PlatformContextType {\n  selectedPlatform: Platform | null;\n  setSelectedPlatform: (platform: Platform | null) => void;\n  activePlatforms: Platform[];\n  isMultiPlatform: boolean;\n}\n\nconst PlatformContext = createContext<PlatformContextType | undefined>(undefined);\n\ninterface PlatformProviderProps {\n  children: ReactNode;\n}\n\nexport const PlatformProvider: React.FC<PlatformProviderProps> = ({ children }) => {\n  const [selectedPlatform, setSelectedPlatform] = useState<Platform | null>(null);\n  const activePlatforms = getActivePlatforms();\n  const isMultiPlatform = activePlatforms.length > 1;\n\n  const value = {\n    selectedPlatform,\n    setSelectedPlatform,\n    activePlatforms,\n    isMultiPlatform\n  };\n\n  return (\n    <PlatformContext.Provider value={value}>\n      {children}\n    </PlatformContext.Provider>\n  );\n};\n\nexport const usePlatform = (): PlatformContextType => {\n  const context = useContext(PlatformContext);\n  if (context === undefined) {\n    throw new Error('usePlatform must be used within a PlatformProvider');\n  }\n  return context;\n};